@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: dark;
  view-transition-name: none;

  --color-bg: 15 23 42;
  --color-card: 30 41 59;
  --color-surface: var(--color-card);
  --color-surface-muted: 15 23 42;
  --color-text: 226 232 240;
  --color-text-muted: 203 213 225;
  --color-text-subtle: 148 163 184;
  --color-border: 71 85 105;
  --color-accent: 96 165 250;
  --color-positive: 74 222 128;
  --color-negative: 248 113 113;
  --color-overlay: 2 6 23;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background-color: rgb(var(--color-bg));
  color: rgb(var(--color-text));
  overflow-x: hidden;
  transition: background-color 0.4s, color 0.4s;
}

.card,
.surface-card {
  background-color: rgb(var(--color-card));
  transition: background-color 0.4s, color 0.4s, border-color 0.4s, box-shadow 0.4s;
}

.text-muted {
  color: rgb(var(--color-text-muted));
  transition: color 0.4s;
}

.text-subtle {
  color: rgb(var(--color-text-subtle));
  transition: color 0.4s;
}

.accent {
  color: rgb(var(--color-accent));
  transition: color 0.4s;
}

[data-contrast='more'] {
  --color-text-muted: var(--color-text);
  --color-text-subtle: var(--color-text);
}

.skip-link {
  position: fixed;
  top: 1rem;
  left: 1rem;
  z-index: 1000;
  padding: 0.75rem 1.5rem;
  border-radius: 9999px;
  background: rgba(var(--color-overlay), 0.9);
  color: rgb(var(--color-card));
  border: 1px solid rgba(var(--color-accent), 0.65);
  font-weight: 600;
  box-shadow: 0 10px 24px rgba(var(--color-overlay), 0.35);
  transform: translateY(-200%);
  transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.4s, color 0.4s, border-color 0.4s;
}

.skip-link:focus,
.skip-link:focus-visible {
  transform: translateY(0);
  box-shadow: 0 0 0 3px rgba(var(--color-accent), 0.35);
  outline: none;
}

main:focus-visible {
  outline: 2px solid rgba(var(--color-accent), 0.75);
  outline-offset: 0.35rem;
}

[data-exporting='true'],
[data-exporting='true'] * {
  transition: none !important;
  animation: none !important;
}

@media (prefers-reduced-motion: reduce) {
  .skip-link {
    transition: none;
  }
}

[data-contrast='more'] .skip-link {
  background: rgb(var(--color-overlay));
  color: rgb(var(--color-card));
  border-color: rgb(var(--color-card));
  box-shadow: 0 0 0 4px rgba(var(--color-card), 0.65);
}

.surface-muted {
  background-color: rgba(var(--color-surface-muted), 0.7);
  transition: background-color 0.4s, border-color 0.4s;
}

.overlay-muted {
  background-color: rgba(var(--color-overlay), 0.75);
  transition: background-color 0.4s;
}

.border-soft {
  border-color: rgba(var(--color-border), 0.5);
  transition: border-color 0.4s;
}

.border-strong {
  border-color: rgba(var(--color-border), 0.7);
  transition: border-color 0.4s;
}

.text-accent {
  color: rgb(var(--color-accent));
}

.text-positive {
  color: rgb(var(--color-positive));
}

.text-negative {
  color: rgb(var(--color-negative));
}
