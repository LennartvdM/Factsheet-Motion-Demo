@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light;
  view-transition-name: none;

  --color-bg: 248 250 252;
  --color-card: 255 255 255;
  --color-surface: var(--color-card);
  --color-surface-muted: 241 245 249;
  --color-text: 15 23 42;
  --color-text-muted: 71 85 105;
  --color-text-subtle: 100 116 139;
  --color-border: 226 232 240;
  --color-accent: 37 99 235;
  --color-positive: 34 197 94;
  --color-negative: 244 63 94;
  --color-overlay: 15 23 42;
}

[data-theme='dark'] {
  color-scheme: dark;

  --color-bg: 15 23 42;
  --color-card: 30 41 59;
  --color-surface: var(--color-card);
  --color-surface-muted: 15 23 42;
  --color-text: 226 232 240;
  --color-text-muted: 203 213 225;
  --color-text-subtle: 148 163 184;
  --color-border: 71 85 105;
  --color-accent: 96 165 250;
  --color-positive: 74 222 128;
  --color-negative: 248 113 113;
  --color-overlay: 2 6 23;
}

[data-theme='ocean'] {
  color-scheme: light;

  --color-bg: 240 249 255;
  --color-card: 224 242 254;
  --color-surface: var(--color-card);
  --color-surface-muted: 219 234 254;
  --color-text: 3 7 18;
  --color-text-muted: 15 23 42;
  --color-text-subtle: 51 65 85;
  --color-border: 148 163 184;
  --color-accent: 14 165 233;
  --color-positive: 45 212 191;
  --color-negative: 249 115 129;
  --color-overlay: 12 74 110;
}

[data-theme='sunset'] {
  color-scheme: light;

  --color-bg: 255 247 237;
  --color-card: 254 226 226;
  --color-surface: var(--color-card);
  --color-surface-muted: 255 237 213;
  --color-text: 41 37 36;
  --color-text-muted: 87 83 78;
  --color-text-subtle: 120 113 108;
  --color-border: 214 158 112;
  --color-accent: 244 63 94;
  --color-positive: 251 191 36;
  --color-negative: 248 113 113;
  --color-overlay: 124 45 18;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background-color: rgb(var(--color-bg));
  color: rgb(var(--color-text));
  transition: background-color 0.4s, color 0.4s;
}

.card,
.surface-card {
  background-color: rgb(var(--color-card));
  transition: background-color 0.4s, color 0.4s, border-color 0.4s, box-shadow 0.4s;
}

.text-muted {
  color: rgb(var(--color-text-muted));
  transition: color 0.4s;
}

.text-subtle {
  color: rgb(var(--color-text-subtle));
  transition: color 0.4s;
}

.accent {
  color: rgb(var(--color-accent));
  transition: color 0.4s;
}

[data-contrast='more'] {
  --color-text-muted: var(--color-text);
  --color-text-subtle: var(--color-text);
}

.skip-link {
  position: fixed;
  top: 1rem;
  left: 1rem;
  z-index: 1000;
  padding: 0.75rem 1.5rem;
  border-radius: 9999px;
  background: rgba(var(--color-overlay), 0.9);
  color: rgb(var(--color-card));
  border: 2px solid rgb(var(--color-accent));
  font-weight: 600;
  box-shadow: 0 10px 30px rgba(var(--color-accent), 0.35);
  transform: translateY(-200%);
  transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.4s, color 0.4s, border-color 0.4s;
}

.skip-link:focus,
.skip-link:focus-visible {
  transform: translateY(0);
  box-shadow: 0 0 0 4px rgba(var(--color-accent), 0.35);
  outline: none;
}

main:focus-visible {
  outline: 3px solid rgb(var(--color-accent));
  outline-offset: 0.5rem;
}

[data-exporting='true'],
[data-exporting='true'] * {
  transition: none !important;
  animation: none !important;
}

@media (prefers-reduced-motion: reduce) {
  .skip-link {
    transition: none;
  }
}

[data-contrast='more'] .skip-link {
  background: rgb(var(--color-overlay));
  color: rgb(var(--color-card));
  border-color: rgb(var(--color-card));
  box-shadow: 0 0 0 4px rgba(var(--color-card), 0.65);
}

.surface-muted {
  background-color: rgba(var(--color-surface-muted), 0.7);
  transition: background-color 0.4s, border-color 0.4s;
}

.overlay-muted {
  background-color: rgba(var(--color-overlay), 0.75);
  transition: background-color 0.4s;
}

.border-soft {
  border-color: rgba(var(--color-border), 0.65);
  transition: border-color 0.4s;
}

.border-strong {
  border-color: rgba(var(--color-border), 0.85);
  transition: border-color 0.4s;
}

.text-accent {
  color: rgb(var(--color-accent));
}

.text-positive {
  color: rgb(var(--color-positive));
}

.text-negative {
  color: rgb(var(--color-negative));
}
